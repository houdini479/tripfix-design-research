:root {
    --bg: #0a0a0f;
    --surface: #12121a;
    --surface-2: #1a1a26;
    --surface-3: #222233;
    --border: #2a2a3d;
    --border-light: #353550;
    --text: #e8e8f0;
    --text-muted: #9494ad;
    --text-dim: #6a6a82;
    --accent: #6366f1;
    --accent-light: #818cf8;
    --accent-glow: rgba(99, 102, 241, 0.15);
    --green: #22c55e;
    --green-bg: rgba(34, 197, 94, 0.1);
    --yellow: #eab308;
    --yellow-bg: rgba(234, 179, 8, 0.1);
    --red: #ef4444;
    --red-bg: rgba(239, 68, 68, 0.1);
    --blue: #3b82f6;
    --blue-bg: rgba(59, 130, 246, 0.1);
    --radius: 10px;
    --radius-sm: 6px;
}

* { margin: 0; padding: 0; box-sizing: border-box; }

body {
    font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
    background: var(--bg);
    color: var(--text);
    line-height: 1.6;
    font-size: 13px;
    overflow-x: hidden;
}

/* ─── Top Bar ─── */
.topbar {
    position: fixed; top: 0; left: 0; right: 0; z-index: 100;
    background: rgba(10, 10, 15, 0.9);
    backdrop-filter: blur(20px);
    border-bottom: 1px solid var(--border);
    height: 52px;
    display: flex; align-items: center; padding: 0 20px;
    gap: 16px;
}

.topbar-left { display: flex; align-items: center; gap: 10px; }
.topbar-brand {
    font-weight: 700; font-size: 16px;
    background: linear-gradient(135deg, var(--accent-light), #a78bfa);
    -webkit-background-clip: text; -webkit-text-fill-color: transparent;
}
.topbar-badge {
    font-size: 10px; font-weight: 600; text-transform: uppercase; letter-spacing: 0.08em;
    padding: 2px 8px; border-radius: 12px;
    background: var(--accent-glow); color: var(--accent-light);
    border: 1px solid rgba(99,102,241,0.3);
}

.topbar-nav { display: flex; gap: 4px; margin-left: 24px; }
.topbar-tab {
    padding: 5px 14px; border-radius: 6px; font-size: 12px; font-weight: 500;
    color: var(--text-muted); cursor: pointer; border: 1px solid transparent;
    background: none; transition: all 0.2s; font-family: inherit;
}
.topbar-tab:hover { color: var(--text); background: var(--surface-2); }
.topbar-tab.active {
    color: var(--accent-light); background: var(--accent-glow);
    border-color: rgba(99,102,241,0.3);
}

.topbar-right {
    margin-left: auto; display: flex; align-items: center; gap: 16px;
}
.topbar-stat { display: flex; flex-direction: column; align-items: center; }
.stat-label { font-size: 9px; text-transform: uppercase; letter-spacing: 0.08em; color: var(--text-dim); }
.stat-value { font-size: 14px; font-weight: 700; color: var(--text); }
.stat-green { color: var(--green); }

.topbar-user {
    width: 30px; height: 30px; border-radius: 50%;
    background: var(--accent-glow); color: var(--accent-light);
    display: flex; align-items: center; justify-content: center;
    font-size: 11px; font-weight: 700;
    border: 1px solid rgba(99,102,241,0.3);
}
.topbar-back {
    font-size: 12px; color: var(--text-dim); text-decoration: none;
    padding: 4px 10px; border-radius: 6px; border: 1px solid var(--border);
    transition: all 0.2s;
}
.topbar-back:hover { color: var(--text); background: var(--surface-2); }

/* ─── Views ─── */
main { display: none; padding-top: 52px; min-height: 100vh; }
main.active { display: block; }

/* ─── Dashboard ─── */
.dash-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    grid-template-rows: auto auto;
    gap: 16px;
    padding: 20px;
    max-width: 1400px;
    margin: 0 auto;
}

.dash-zone {
    background: var(--surface);
    border: 1px solid var(--border);
    border-radius: var(--radius);
    overflow: hidden;
}

.zone-action { grid-row: 1 / 3; }

.zone-header {
    display: flex; align-items: center; justify-content: space-between;
    padding: 14px 18px;
    border-bottom: 1px solid var(--border);
}
.zone-header h2 {
    font-size: 14px; font-weight: 600; color: var(--text);
    display: flex; align-items: center; gap: 8px;
}
.zone-count { font-size: 11px; color: var(--text-dim); }
.zone-dot {
    width: 8px; height: 8px; border-radius: 50%;
}
.dot-red { background: var(--red); }
.dot-yellow { background: var(--yellow); }
.dot-blue { background: var(--blue); }
.dot-green { background: var(--green); }

/* Queue items */
.queue-list { padding: 6px; }
.queue-item {
    display: flex; align-items: center; gap: 12px;
    padding: 10px 12px; border-radius: var(--radius-sm);
    cursor: pointer; transition: all 0.15s;
    border: 1px solid transparent;
}
.queue-item:hover { background: var(--surface-2); border-color: var(--border); }
.qi-priority {
    width: 22px; height: 22px; border-radius: 50%;
    display: flex; align-items: center; justify-content: center;
    font-size: 12px; font-weight: 700; flex-shrink: 0;
}
.priority-high .qi-priority { background: var(--red-bg); color: var(--red); }
.priority-med .qi-priority { background: var(--yellow-bg); color: var(--yellow); }
.priority-low .qi-priority { background: var(--surface-3); color: var(--text-dim); }
.qi-body { flex: 1; min-width: 0; }
.qi-title { font-size: 13px; font-weight: 500; color: var(--text); }
.qi-sub { font-size: 11px; color: var(--text-dim); }
.qi-meta { display: flex; gap: 6px; align-items: center; flex-shrink: 0; }

/* Confidence chips */
.conf-chip {
    font-size: 11px; font-weight: 600; padding: 2px 8px; border-radius: 4px;
    font-family: 'JetBrains Mono', monospace;
}
.conf-high { background: var(--green-bg); color: var(--green); }
.conf-med { background: var(--yellow-bg); color: var(--yellow); }
.conf-low { background: var(--red-bg); color: var(--red); }

.qi-tier {
    font-size: 10px; font-weight: 600; padding: 2px 6px; border-radius: 3px;
    text-transform: uppercase; letter-spacing: 0.05em;
}
.tier-1 { background: var(--green-bg); color: var(--green); }
.tier-2 { background: var(--yellow-bg); color: var(--yellow); }
.tier-3 { background: var(--red-bg); color: var(--red); }

/* Monitor */
.monitor-stats {
    display: grid; grid-template-columns: repeat(4, 1fr); gap: 1px;
    background: var(--border);
}
.monitor-card {
    background: var(--surface); padding: 16px; text-align: center;
}
.mc-value { font-size: 24px; font-weight: 700; color: var(--text); }
.mc-label { font-size: 11px; color: var(--text-dim); margin-top: 2px; }
.mc-trend { font-size: 10px; margin-top: 4px; }
.trend-up { color: var(--green); }
.trend-down { color: var(--green); }
.trend-neutral { color: var(--text-dim); }

.pipeline-visual { padding: 16px; }
.pipe-stage { margin-bottom: 8px; }
.pipe-bar {
    height: 28px; border-radius: 4px;
    background: color-mix(in srgb, var(--color) 15%, transparent);
    border: 1px solid color-mix(in srgb, var(--color) 30%, transparent);
    width: var(--pct);
    display: flex; align-items: center; padding: 0 10px;
    transition: width 0.6s ease;
}
.pipe-bar span {
    font-size: 11px; font-weight: 500;
    color: var(--color); white-space: nowrap;
}

/* Audit list */
.audit-list { padding: 6px; }
.audit-item {
    display: flex; align-items: center; gap: 10px;
    padding: 8px 12px; border-radius: var(--radius-sm);
    transition: background 0.15s;
}
.audit-item:hover { background: var(--surface-2); }
.audit-id { font-family: 'JetBrains Mono', monospace; font-size: 11px; color: var(--text-dim); min-width: 48px; }
.audit-name { flex: 1; font-size: 12px; color: var(--text-muted); }
.audit-time { font-size: 11px; color: var(--text-dim); }

/* ─── Review View ─── */
.review-grid {
    display: grid;
    grid-template-columns: 220px 1fr 280px;
    height: calc(100vh - 52px);
    overflow: hidden;
}

/* Review queue (left) */
.review-queue {
    background: var(--surface);
    border-right: 1px solid var(--border);
    overflow-y: auto;
}
.rq-header {
    display: flex; align-items: center; justify-content: space-between;
    padding: 14px 16px; border-bottom: 1px solid var(--border);
    position: sticky; top: 0; background: var(--surface); z-index: 1;
}
.rq-header h3 { font-size: 13px; font-weight: 600; }
.rq-count {
    font-size: 11px; font-weight: 600; color: var(--accent-light);
    background: var(--accent-glow); padding: 1px 8px; border-radius: 10px;
}
.rq-list { padding: 6px; }
.rq-item {
    display: flex; align-items: center; gap: 10px;
    padding: 10px 12px; border-radius: var(--radius-sm);
    cursor: pointer; transition: all 0.15s;
    border: 1px solid transparent; margin-bottom: 2px;
}
.rq-item:hover { background: var(--surface-2); }
.rq-item.active {
    background: var(--accent-glow); border-color: rgba(99,102,241,0.3);
}
.rq-dot { width: 8px; height: 8px; border-radius: 50%; flex-shrink: 0; }
.rq-title { font-size: 12px; font-weight: 500; color: var(--text); }
.rq-sub { font-size: 10px; color: var(--text-dim); }

/* Review center */
.review-center {
    overflow-y: auto; padding: 24px 28px;
}
.rc-header {
    display: flex; align-items: flex-start; justify-content: space-between;
    margin-bottom: 24px; gap: 16px;
}
.rc-header h2 { font-size: 20px; font-weight: 700; color: #fff; }
.rc-subtitle { font-size: 13px; color: var(--text-muted); margin-top: 4px; }
.rc-badges { display: flex; gap: 8px; flex-shrink: 0; }

/* Suggestion block */
.suggestion-block {
    background: var(--surface); border: 1px solid var(--border);
    border-radius: var(--radius); overflow: hidden; margin-bottom: 20px;
}
.sb-header {
    display: flex; align-items: center; gap: 8px;
    padding: 12px 16px; border-bottom: 1px solid var(--border);
    background: var(--surface-2);
}
.sb-icon { font-size: 16px; }
.sb-title { font-size: 13px; font-weight: 600; color: var(--text); flex: 1; }
.sb-body { padding: 16px; }
.sb-body p { font-size: 13px; color: var(--text-muted); line-height: 1.7; }

.sb-evidence { padding: 0 16px 12px; }
.sb-evidence-label {
    font-size: 10px; font-weight: 600; text-transform: uppercase;
    letter-spacing: 0.08em; color: var(--text-dim); margin-bottom: 8px;
}
.evidence-chips { display: flex; flex-wrap: wrap; gap: 6px; }
.ev-chip {
    font-size: 11px; padding: 4px 10px; border-radius: 4px;
    background: var(--surface-2); color: var(--text-muted);
    border: 1px solid var(--border);
}

.sb-actions {
    display: flex; gap: 8px; padding: 12px 16px;
    border-top: 1px solid var(--border); background: var(--surface-2);
}
.action-btn {
    padding: 6px 16px; border-radius: var(--radius-sm);
    font-size: 12px; font-weight: 600; cursor: pointer;
    border: 1px solid var(--border); background: var(--surface);
    color: var(--text-muted); transition: all 0.15s;
    font-family: inherit;
}
.action-btn:hover { color: var(--text); border-color: var(--border-light); }
.action-approve { color: var(--green); border-color: rgba(34,197,94,0.3); }
.action-approve:hover { background: var(--green-bg); }
.action-edit { color: var(--yellow); border-color: rgba(234,179,8,0.3); }
.action-edit:hover { background: var(--yellow-bg); }
.action-reject { color: var(--red); border-color: rgba(239,68,68,0.3); }
.action-reject:hover { background: var(--red-bg); }

/* Fields */
.fields-section {
    background: var(--surface); border: 1px solid var(--border);
    border-radius: var(--radius); overflow: hidden; margin-bottom: 20px;
}
.fields-section h3 {
    font-size: 13px; font-weight: 600; padding: 12px 16px;
    border-bottom: 1px solid var(--border); background: var(--surface-2);
}
.field-row {
    display: flex; align-items: center; gap: 12px;
    padding: 10px 16px;
    border-bottom: 1px solid var(--border);
}
.field-row:last-child { border-bottom: none; }
.field-row.highlight { background: var(--yellow-bg); }
.field-label {
    font-size: 12px; color: var(--text-dim); min-width: 120px;
    font-weight: 500;
}
.field-value { flex: 1; font-size: 13px; color: var(--text); }
.field-action {
    width: 26px; height: 26px; border-radius: 4px;
    border: 1px solid var(--border); background: var(--surface-2);
    color: var(--green); font-size: 12px; cursor: pointer;
    display: flex; align-items: center; justify-content: center;
    transition: all 0.15s; font-family: inherit;
}
.field-action:hover { background: var(--green-bg); }
.field-action.edited { color: var(--yellow); }

/* Draft */
.draft-section {
    background: var(--surface); border: 1px solid var(--border);
    border-radius: var(--radius); overflow: hidden; margin-bottom: 20px;
}
.draft-header {
    display: flex; align-items: center; justify-content: space-between;
    padding: 12px 16px; border-bottom: 1px solid var(--border);
    background: var(--surface-2);
}
.draft-header h3 { font-size: 13px; font-weight: 600; }
.draft-version { font-size: 11px; color: var(--text-dim); font-family: 'JetBrains Mono', monospace; }
.draft-preview { padding: 20px; }
.draft-line {
    font-size: 13px; color: var(--text-muted); line-height: 1.7;
    margin-bottom: 12px;
}
.draft-fade {
    color: var(--text-dim);
    mask-image: linear-gradient(to bottom, black 0%, transparent 100%);
    -webkit-mask-image: linear-gradient(to bottom, black 0%, transparent 100%);
}

/* ─── Claim History (Right Panel) ─── */
.review-history {
    background: var(--surface);
    border-left: 1px solid var(--border);
    overflow-y: auto;
}
.rh-header {
    display: flex; align-items: center; justify-content: space-between;
    padding: 14px 16px; border-bottom: 1px solid var(--border);
    position: sticky; top: 0; background: var(--surface); z-index: 1;
}
.rh-header h3 { font-size: 13px; font-weight: 600; }
.rh-legend {
    display: flex; flex-wrap: wrap; gap: 10px; padding: 10px 16px;
    border-bottom: 1px solid var(--border);
}
.rh-legend-item {
    display: flex; align-items: center; gap: 4px;
    font-size: 10px; color: var(--text-dim);
}
.rh-dot { width: 6px; height: 6px; border-radius: 50%; }

.rh-timeline { padding: 8px 12px; }
.rh-event {
    display: flex; gap: 10px; padding: 8px 0;
    border-left: 2px solid var(--border);
    padding-left: 14px; margin-left: 4px;
    position: relative;
}
.rh-event::before {
    content: ''; position: absolute; left: -5px; top: 12px;
    width: 8px; height: 8px; border-radius: 50%;
    border: 2px solid var(--bg);
}
.rh-event.ev-evidence::before { background: var(--blue); }
.rh-event.ev-ai::before { background: var(--accent); }
.rh-event.ev-human::before { background: var(--green); }
.rh-event.ev-system::before { background: var(--yellow); }

.rh-time {
    font-size: 10px; color: var(--text-dim);
    font-family: 'JetBrains Mono', monospace;
    min-width: 36px; flex-shrink: 0; padding-top: 1px;
}
.rh-content { flex: 1; }
.rh-type {
    font-size: 10px; font-weight: 700; text-transform: uppercase;
    letter-spacing: 0.06em; margin-bottom: 2px;
}
.rh-event.ev-evidence .rh-type { color: var(--blue); }
.rh-event.ev-ai .rh-type { color: var(--accent-light); }
.rh-event.ev-human .rh-type { color: var(--green); }
.rh-event.ev-system .rh-type { color: var(--yellow); }
.rh-desc { font-size: 11px; color: var(--text-muted); line-height: 1.5; }
.rh-desc code {
    font-size: 10px; color: var(--accent-light);
    font-family: 'JetBrains Mono', monospace;
}
.rh-desc strong { color: var(--text); }

/* ─── Prototype Banner ─── */
.proto-banner {
    position: fixed; bottom: 0; left: 0; right: 0;
    background: rgba(10, 10, 15, 0.92);
    backdrop-filter: blur(12px);
    border-top: 1px solid var(--border);
    padding: 8px 20px;
    font-size: 12px; color: var(--text-dim);
    text-align: center; z-index: 200;
}
.proto-banner span { color: var(--accent-light); font-weight: 600; }
.proto-banner a {
    color: var(--accent-light); text-decoration: none; margin-left: 12px;
}
.proto-banner a:hover { text-decoration: underline; }

/* ─── Responsive ─── */
@media (max-width: 1100px) {
    .review-grid { grid-template-columns: 1fr; }
    .review-queue, .review-history { display: none; }
    .dash-grid { grid-template-columns: 1fr; }
    .zone-action { grid-row: auto; }
    .monitor-stats { grid-template-columns: repeat(2, 1fr); }
}
